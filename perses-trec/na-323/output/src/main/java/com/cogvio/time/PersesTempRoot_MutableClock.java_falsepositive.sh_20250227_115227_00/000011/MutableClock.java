package
com
.
cogvio
.
time
;
import
java
.
time
.
Clock
;
import
java
.
time
.
Instant
;
import
java
.
time
.
LocalDateTime
;
import
java
.
time
.
ZoneId
;
import
java
.
util
.
*
;
import
org
.
apache
.
commons
.
lang3
.
builder
.
ToStringBuilder
;
import
org
.
apache
.
commons
.
lang3
.
builder
.
ToStringStyle
;
public
final
class
MutableClock
extends
Clock
{
private
Instant
instant
;
private
ZoneId
zone
;
private
MutableClock
(
final
Instant
instant
,
final
ZoneId
zone
)
{
this
.
setZone
(
zone
)
;
this
.
setInstant
(
instant
)
;
}
public
void
setTime
(
final
LocalDateTime
time
)
{
setInstant
(
Objects
.
requireNonNull
(
time
,
"time must not be null"
)
.
atZone
(
zone
)
.
toInstant
(
)
)
;
}
@
Override
public
MutableClock
withZone
(
final
ZoneId
newZone
)
{
if
(
newZone
.
equals
(
this
.
zone
)
)
{
return
this
;
}
return
new
MutableClock
(
instant
,
newZone
)
;
}
@
Override
public
Instant
instant
(
)
{
return
instant
;
}
}
